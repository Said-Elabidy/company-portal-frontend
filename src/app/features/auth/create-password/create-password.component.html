<div class="container">
  <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="form-box" autocomplete="off">

    <h2 class="title">Create New Password</h2>

    <!-- New Password -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>New Password</mat-label>
      <input matInput [type]="showPassword ? 'text' : 'password'" formControlName="password" />
      <button mat-icon-button matSuffix type="button" (click)="showPassword = !showPassword">
        <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error *ngIf="passwordForm.get('password')?.hasError('required')">
        Password is required
      </mat-error>
      <mat-error *ngIf="passwordForm.get('password')?.hasError('pattern')">
        Must include uppercase, lowercase, number, special character (min 8 chars)
      </mat-error>
    </mat-form-field>

    <!-- Confirm Password -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Confirm Password</mat-label>
      <input matInput [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword" />
      <button mat-icon-button matSuffix type="button" (click)="showConfirmPassword = !showConfirmPassword">
        <mat-icon>{{ showConfirmPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      <mat-error *ngIf="passwordForm.hasError('mismatch') && passwordForm.get('confirmPassword')?.touched">
        Passwords do not match
      </mat-error>
    </mat-form-field>

    <!-- Submit -->
    <button mat-flat-button color="primary" class="full-width submit-btn" [disabled]="passwordForm.invalid">
      Submit
    </button>

  </form>
</div>
